syntax = "proto2";

package TbotsProto;

import "proto/game_state.proto";
import "proto/vision.proto";
import "proto/geometry.proto";
import "proto/tbots_timestamp_msg.proto";

message Field
{
    required double field_x_length       = 1;
    required double field_y_length       = 2;
    required double defense_x_length     = 3;
    required double defense_y_length     = 4;
    required double goal_x_length        = 5;
    required double goal_y_length        = 6;
    required double boundary_buffer_size = 7;
    required double center_circle_radius = 8;
}

message Ball
{
    required BallState current_state = 1;
    required Vector acceleration     = 2;
    required Timestamp timestamp     = 3;
}

message Robot
{
    enum RobotCapability
    {
        Dribble = 0;
        Kick    = 1;
        Chip    = 2;
        Move    = 3;
    }
    required uint32 id                                = 1;
    required RobotState current_state                 = 2;
    repeated RobotCapability unavailable_capabilities = 3;
    required Timestamp timestamp                      = 4;
    //    RobotConstants_t robot_constants_;
}

message Team
{
    repeated Robot team_robots = 1;
    optional uint32 goalie_id  = 2;
    //    Duration robot_expiry_buffer_duration;
    //    Timestamp last_update_timestamp = 4;
}

message World
{
    required Timestamp time_sent  = 1;
    required Field field          = 2;
    required Team friendly_team   = 3;
    required Team enemy_team      = 4;
    required Ball ball            = 5;
    required GameState game_state = 6;
    // RefereeState referee_state = 7;
}
