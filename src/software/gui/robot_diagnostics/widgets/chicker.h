#pragma once

#include <QtWidgets/QWidget>
#include <memory>

#include "software/gui/generic_widgets/slider/slider.h"
#include "software/util/make_enum/make_enum.h"

// This include is autogenerated by the .ui file in the same folder
// The generated version will be names 'ui_<filename>.h'
#include "software/gui/robot_diagnostics/ui/ui_main_widget.h"

MAKE_ENUM(ChargeMode, CHARGE, DISCHARGE, FLOAT);

MAKE_ENUM(ChickMode, NONE, KICK, CHIP, AUTOKICK, AUTOCHIP);

/**
 * Set up chicker area of the widget
 *
 * @param widget widget to setup
 * @param chicker_state_changed_callback callback for when chicker state input changes
 */
void setupChicker(
    Ui::AutoGeneratedMainWidget *widget,
    std::function<void(double, ChargeMode, ChickMode)> chicker_state_changed_callback);

/**
 * Set up charge radio buttons of the chicker area of the widget
 *
 * @param widget widget to setup
 * @param charge_mode_changed_callback callback for when chicker charge mode changes
 */
void setupChickerChargeRadioButtons(
    Ui::AutoGeneratedMainWidget *widget,
    std::function<void(ChargeMode)> charge_mode_changed_callback);

/**
 * Set up auto_chip_or_kick radio buttons of the chicker area of the widget
 *
 * @param widget widget to setup
 * @param chick_mode_changed_callback callback for when chicker chick mode changes
 */
void setupChickerAutoChipOrKickRadioButtons(
    Ui::AutoGeneratedMainWidget *widget,
    std::function<void(ChickMode)> chick_mode_changed_callback);

/**
 * Set up push buttons of the chicker area of the widget
 *
 * @param widget widget to setup
 * @param chick_mode_changed_callback callback for when chicker chick mode changes
 */
void setupChickerPushButtons(Ui::AutoGeneratedMainWidget *widget,
                             std::function<void(ChickMode)> chick_mode_changed_callback);

/**
 * Set up enabledness of push buttons of the chicker area of the widget
 *
 * @param widget
 * @param enabled
 */
void setChickerPushButtonEnabled(Ui::AutoGeneratedMainWidget *widget, bool enabled);

/**
 * Reset auto chick radio buttons to no auto
 *
 * @param widget
 */
void resetAutoChipOrKickRadioButtons(Ui::AutoGeneratedMainWidget *widget);
